<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link type="text/css" rel="stylesheet" href="normalize.css" />
  <link type="text/css" rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <title>Encriptador de texto</title>
</head>

<body>
  <header><button class="theme-toggle"><i class="fa-solid fa-sun"></i></button>
    <script> (function (d, w, ls) {
        const $btn = d.querySelector(".theme-toggle");
        let prefersDark = w.matchMedia('(prefers-color-scheme: dark)').matches, lightIcon = `<i class="fa-solid fa-sun"></i>`,
          darkIcon = `<i class="fa-solid fa-moon"></i>`;

        function lightMode() {
          ls.setItem("theme", "light");
          d.querySelector(":root").classList.add("light");
          d.querySelector(":root").classList.remove("dark");
          $btn.innerHTML = lightIcon;
        }

        function darkMode() {
          ls.setItem("theme", "dark");
          d.querySelector(":root").classList.remove("light");
          d.querySelector(":root").classList.add("dark");
          $btn.innerHTML = darkIcon;
        }

        if (ls.getItem("theme") === null) {
          if (prefersDark) {
            ls.setItem("theme", "dark");
          } else {
            ls.setItem("theme", "light");
          }
        }

        if (ls.getItem("theme") === "dark") darkMode();
        if (ls.getItem("theme") === "light") lightMode();

        $btn.addEventListener("click", (e) => (ls.getItem("theme") === "dark") ? lightMode() : darkMode());
      })(document, window, localStorage);
    </script>
  </header>
  <main class="container-lg container-responsive">
    <img class="logo" src="./assets/Logo.png" alt="logo">
    <section class="text-in">
      <h1 class="title">Encriptador de texto</h1>
      <textarea class="textarea textarea--in" name="text-input" id="text-input"
        placeholder="Ingrese el texto aqui"></textarea>
      <span id="error-message" class="step--2"><i class="fa fa-circle-info"></i> Solo letras minúsculas y sin
        acentos</span>
      <div class="flex button-group gap-md">
        <button id="encrypt" class="button">Encriptar</button>
        <button id="decrypt" class="button button--outline">Desencriptar</button>
      </div>
    </section>
    <section class="text-out card empty">
      <img class="card__img" src="./assets/Muñeco.png" alt="empty-text">
      <div class="message">
        <h5 class="card__title">Ningún mensaje fue encontrado</h5>
        <div class="card__content">Ingresa el texto que desees encriptar o desencriptar.</div>
      </div>
      <textarea class="textarea textarea--out" name="text-input" id="text-input"></textarea>
      <div class="flex justify-center">
        <button id="copy" class="button button--outline">Copy</button>
      </div>
    </section>
  </main>
  <div id="error-popup" class="popup">
    <div class="card">
      <lottie-player src="./assets/success.json" background="transparent" speed="1"
        style="width: 200px; height: 200px; margin: auto;" autoplay></lottie-player>
      <h5 class="card__title">Error</h5>
      <div class="card__content">El campo de texto esta vacio, Escribe una palabra</div>
      <button class="button">OK</button>
    </div>
  </div>
  <footer>Copyright &copy;
    <script>document.write(new Date().getFullYear())</script> | Coded with <i class="fa fa-heart"></i> by <a
      href="https://www.linkedin.com/in/johnapco/" target="_blank" rel="noopener noreferrer">JohnApCo</a>
  </footer>
  <script src="index.js"></script>
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
</body>

</html>